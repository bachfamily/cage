<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<!--This file has been automatically generated by Doctor Max. DO NOT EDIT THIS FILE DIRECTLY.-->

<c74object name="cage.agogics" module="cage" kind="patcher">

	<digest>
		Create accelerandi and rallentandi
	</digest>

	<description>
		Creates accelerandi and rallentandi by repeating a certain musical cell.
	</description>

	<!--METADATA-->
	<metadatalist>
		<metadata name="author">cageproject</metadata>
		<metadata name="tag">cage</metadata>
		<metadata name="tag">cage transformation</metadata>
	</metadatalist>

	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="INLET_TYPE">
			<digest>
				Original cell
			</digest>
			<description>
			</description>
		</inlet>
		<inlet id="1" type="INLET_TYPE">
			<digest>
				Number of repetitions
			</digest>
			<description>
			</description>
		</inlet>
		<inlet id="2" type="INLET_TYPE">
			<digest>
				Output duration
			</digest>
			<description>
			</description>
		</inlet>
		<inlet id="3" type="INLET_TYPE">
			<digest>
				Ending velocity
			</digest>
			<description>
			</description>
		</inlet>
	</inletlist>

	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="INLET_TYPE">
			<digest>
				Resulting score
			</digest>
			<description>
			</description>
		</outlet>
	</outletlist>

	<!--ARGUMENTS-->
	<objarglist>
		<objarg name="number_of_repetitions" optional="1" type="int/none">
			<digest>
				Number of repetitions
			</digest>
			<description>
				Sets the initial number of repetitions (see <m>int</m> message). Defaults to 1.
			</description>
		</objarg>
		<objarg name="output_duration" optional="1" type="float/none">
			<digest>
				Output duration
			</digest>
			<description>
				Sets the initial output duration in milliseconds (see <m>float</m> message). Defaults to none.
			</description>
		</objarg>
		<objarg name="ending_speed" optional="1" type="float/none">
			<digest>
				Ending speed
			</digest>
			<description>
				Sets the initial ending speed (see <m>float</m> message). Defaults to 1.
			</description>
		</objarg>
	</objarglist>

	<!--MESSAGES-->
	<methodlist>
		<method name="bang">
			<arglist />
			<digest>
				Output result
			</digest>
			<description>
				Output the result processed from the most recently received input data.
			</description>
		</method>
		<method name="float">
			<arglist />
			<digest>
				Set output duration or ending speed
			</digest>
			<description>
				A floating point number in the third inlet sets the output total time in milliseconds;
				the <m>none</m> symbol can be used if such parameter doesn't need to be set. <br />
				A floating point number in the fourth inlet sets the ending speed (starting speed always being 1,
				corresponding to the original cell's velocity);
				the <m>none</m> symbol can be used if such parameter doesn't need to be set. <br />
			</description>
		</method>
		<method name="int">
			<arglist />
			<digest>
				Set number of repetitions
			</digest>
			<description>
				An integer in the second inlet sets the number of repetitions of the original cell, or
				<m>none</m> can be used as symbol if the number of repetition doesn't need to be set. <br />
				An integer in the third or fourth inlet is converted into a <m>float</m>.
			</description>
		</method>
		<method name="list">
			<arglist />
			<digest>
				Set parameters
			</digest>
			<description>
				You can send a <m>list</m> through the second inlet to set the three rightmost inlets
				at once (see <m>int</m> and <m>float</m>).
			</description>
		</method>
		<method name="llll">
			<arglist />
			<digest>
				Set cell and output result
			</digest>
			<description>
				An <m>llll</m> in the first is expected to be the original
				gathered syntax of the musical cell to be fed to the rallentando/accelerando.
				Such cell is then processed according to the three parameters sent in through the other inlets,
				and the resulting roll is output through the outlet. <br />
				An <m>llll</m> in any other inlet is converted into a number (see <m>int</m> and <m>float</m> messages).
			</description>
		</method>
		<method name="symbol">
			<arglist />
			<digest>
				Drop parameter
			</digest>
			<description>
				You can use the <m>none</m> symbol in any of the inlets (except for the first one) to
				drop the assignment of a parameter. Three parameters are available: the number of repetition of the cell,
				the total duration of the result, and the ending speed. Only two parameters
				need to be set each time, since each couple of parameters implies a value
				for the third one. The unused parameter must always be set to <m>none</m>.
				If less than two parameters are set, no result can be given; if all
				three parameters are set, the last one is dropped.
			</description>
		</method>
	</methodlist>

	<!--ATTRIBUTES-->
	<attributelist>
		<attribute name="niter" get="1" set="1" type="int" size="1">
			<digest>
				Number of Iterations
			</digest>
			<description>
				Sets the number of iterations to be performed to infer the ending velocity
				when the other two parameters are given (number of repetitions and total output time). Defaults to 10.
				More precisely, this parameter is used as number of iterations to compute Lambert's W function.
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Number of Iterations" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="out" get="1" set="1" type="symbol" size="1">
			<digest>
				Outlet Types
			</digest>
			<description>
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Behavior" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Outlet Types" />
				<attribute name="save" get="1" set="1" type="int" size="1" value="1" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="sampling" get="1" set="1" type="int" size="1">
			<digest>
				Sampling Rate
			</digest>
			<description>
				Sets the sampling rate (in samples per second) to process the agogics.
				Higher values will result in improved precision but slower calculation. Defaults to 50.
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Sampling Rate" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
	</attributelist>

	<!--DISCUSSION-->
	<discussion>
		The module is a wrapper for <o>cage.timewarp</o>, and supposes the
		acceleration during the agogic change is kept constant.
		Three parameters are available: the number of repetition of the cell,
		the total duration of the result, and the ending speed. Only two parameters
		need to be set each time, since each couple of parameters implies a value
		for the third one. The unused parameter must always be set to none.
		If less than two parameters are set, no result can be given; if all
		three parameters are set, the last one is dropped.
	</discussion>

	<!--SEEALSO-->
	<seealsolist>
		<seealso name="cage.timewarp" />
	</seealsolist>

	<misc name = "Input">
		<entry name ="Inlet 1 (llll)">
			<description>
				Original cell.
			</description>
		</entry>
		<entry name ="Inlet 2 (int)">
			<description>
				Number of repetitions.
			</description>
		</entry>
		<entry name ="Inlet 3 (float)">
			<description>
				Output duration.
			</description>
		</entry>
		<entry name ="Inlet 4 (float)">
			<description>
				Ending velocity.
			</description>
		</entry>
	</misc>

	<misc name = "Output">
		<entry name ="Outlet 1 (llll)">
			<description>
				Resulting score.
			</description>
		</entry>
	</misc>

	<misc name = "Discussion">
		<entry name ="More details">
			<description>
		The module is a wrapper for <o>cage.timewarp</o>, and supposes the
		acceleration during the agogic change is kept constant.
		Three parameters are available: the number of repetition of the cell,
		the total duration of the result, and the ending speed. Only two parameters
		need to be set each time, since each couple of parameters implies a value
		for the third one. The unused parameter must always be set to none.
		If less than two parameters are set, no result can be given; if all
		three parameters are set, the last one is dropped.
			</description>
		</entry>
		<entry name ="Keywords">
			<description>
time, tempo, accelerando, rallentando, agogics, acceleration, constant, repeat, repetition, cell.
			</description>
		</entry>
	</misc>

</c74object>